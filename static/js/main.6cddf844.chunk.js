(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{32:function(e,t,i){},35:function(e,t,i){},36:function(e,t,i){},37:function(e,t,i){},43:function(e,t,i){},44:function(e,t,i){},45:function(e,t,i){},46:function(e,t,i){},47:function(e,t,i){},48:function(e,t,i){"use strict";i.r(t);var a=i(0),c=i(1),n=i.n(c),r=i(24),s=i.n(r),l=(i(32),i(8)),o=i(10),d=i.n(o),u=i(26),m=i(13),h=i(14),_=i(15),j=i(18),b=i(16),p=i(2);i(34);function y(e){return fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=cef83cd5d4c97545246b047882ffad61&units=metric")).then((function(e){return e.json()}))}i(35),i(36);var f=function(e){Object(j.a)(i,e);var t=Object(b.a)(i);function i(){var e;Object(h.a)(this,i);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={searchValue:""},e.addChangeValue=function(t){var i=t.target.value;e.setState({searchValue:i}),e.props.defaultErrorInput()},e.onSubmit=function(t){t.preventDefault(),e.props.addCity(e.state.searchValue),e.setState({searchValue:""})},e}return Object(_.a)(i,[{key:"render",value:function(){var e=this.state.searchValue;return Object(a.jsxs)("form",{className:"FormAddNewCity",onSubmit:this.onSubmit,children:[this.props.errorInput&&Object(a.jsx)("p",{className:"FormAddNewCity__error",children:"Incorrect city!"}),Object(a.jsx)("input",{value:e,className:"FormAddNewCity__input",type:"text",onChange:this.addChangeValue,placeholder:"London"}),Object(a.jsx)("button",{type:"submit",className:"FormAddNewCity__button",children:"Add City"})]})}}]),i}(n.a.Component),O=(i(37),function(){return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(l.b,{to:"/",className:"header__logo",children:"W"}),Object(a.jsx)("h1",{className:"header__title",children:Object(a.jsx)(l.b,{to:"/",className:"header__title-link",children:"Weather"})})]})}),x=i(17),N=(i(43),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABqklEQVQ4jaWRTyhsURzHv7+ZcblKWFCWU2ZBSR2TBU1ZiWwkKdyF6b2SlW5Z2dhZqen1FkaUhWHDjpWVDQuNK8mfxS0lSZNJI27m3HPmWLzemNc7V8pv9/327XO+v98hBEzfes4CYANIHSSbM0G5kM5MrN5bUgh7vL+JSSHsxOq99WVAz/KtJYWwJwdb2N2dj4mBFiaFsHuWb7UQqhTdv1wLRPbUcJS5rlf2o9FabOzeOFAqdTzbmtEC2NKVBSI7ORJjFxfP/70Ui9Vhc891oFTKmWvL/APoWDyziMj+MdbOcrkilAI8T8LzBEwzDNMMQymgsdHA1u61o5RKnc93ZgAgAgDS9xNKKaQ3Tp2/5KG+GCsUCiCKYP/wwalsQ0QJAB+Ay4X4dGWgdf7w5PExj3z+CYZRD59zuIu9Xbojar/RLxbBS4AMhcFLf3TQ6AGc44Wq8GqYeA0Z8DkPBESCGohaE9VUBW6EP22gBQjfzx5tH5Q1EWUDCd8d0pk1o+srIIqXDaWybzvJaV1Wu4IUIt4w85O9lYAIAS/ptcAGeoCU2fzvdEXP4Bu8A+m8rVbs2aFSAAAAAElFTkSuQmCC"),C=i(3),g=i.n(C),w=(g.a.arrayOf(g.a.objectOf(g.a.shape({icon:g.a.string.isRequired,description:g.a.string.isRequired}))).isRequired,g.a.objectOf(g.a.shape({temp:g.a.number.isRequired,feels_like:g.a.number.isRequired,humidity:g.a.number.isRequired})).isRequired,g.a.objectOf(g.a.shape({speed:g.a.number.isRequired,deg:g.a.number.isRequired})).isRequired,g.a.number.isRequired,function(e){var t=e.deleteCity,i=e.cityState,n=Object(c.useState)(i),r=Object(x.a)(n,2),s=r[0],o=r[1],u=s.weather[0].icon,h=Math.round(s.main.temp),_=s.weather[0].description,j=Math.round(s.main.feels_like),b=s.main.humidity,p=s.wind.speed.toFixed(1),f=s.wind.deg+180,O=(s.visibility/1e3).toFixed(1);function C(){return(C=Object(m.a)(d.a.mark((function e(t){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:200===(i=e.sent).cod&&o(i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h1",{children:s.name}),Object(a.jsx)("h2",{children:s.sys.country}),Object(a.jsxs)("h1",{className:"card__temp",children:[h,"\xb0"]}),Object(a.jsx)("img",{className:"card__img",src:"http://openweathermap.org/img/wn/".concat(u,"@2x.png"),alt:"Weather Icon"}),Object(a.jsx)("h4",{className:"card__description",children:_}),Object(a.jsxs)("ul",{className:"card__info",children:[Object(a.jsxs)("li",{className:"card__info__item",children:["Feels like:",j,"\xb0"]}),Object(a.jsxs)("li",{className:"card__info__item",children:["Humidity:",b,"%"]}),Object(a.jsxs)("li",{className:"card__info__item",children:["Wind:",p,"m/s",Object(a.jsx)("img",{src:N,alt:"arrow",width:13,height:13,style:{transform:"rotate(".concat(f,"deg)")}})]}),Object(a.jsxs)("li",{className:"card__info__item",children:["Visibility:",O,"km"]})]}),Object(a.jsx)("button",{className:"card__button-Delete",onClick:function(){return t(s.name)},type:"button",children:"X"}),Object(a.jsx)("button",{type:"button",className:"card__button-Refresh",onClick:function(){return function(e){return C.apply(this,arguments)}(s.name)},children:"Refresh"}),Object(a.jsx)(l.b,{to:"/".concat(s.name),className:"card__button-more",children:"DETAILS"})]})}),v=(i(44),function(e){var t=e.cityList,i=e.deleteCity;return Object(a.jsx)("div",{className:"cardList",children:t.map((function(e,t){return Object(a.jsx)(w,{deleteCity:i,cityState:e},e.name)}))})}),D=(i(45),i(46),function(e){var t=e.city,i=e.cityName,c=t.current.weather[0].icon,n=new Date(1e3*t.current.dt),r=Math.round(t.current.temp),s=t.current.weather[0].description,o=Math.round(t.current.feels_like),d=t.current.humidity,u=t.current.wind_speed.toFixed(1),m=t.current.wind_deg+180,h=(t.current.visibility/1e3).toFixed(1),_=t.current.pressure,j=t.current.uvi,b=t.current.dew_point.toFixed(1),p=t.current.clouds,y=new Date(1e3*t.current.sunrise),f=new Date(1e3*t.current.sunset);return Object(a.jsxs)("div",{className:"CityDetails__main",children:[Object(a.jsx)(l.b,{className:"CityDetails__main__back",to:"/",children:"Back"}),Object(a.jsx)("h1",{className:"CityDetails__main__cityName",children:i}),Object(a.jsxs)("h1",{className:"CityDetails__main__temp",children:[r,"\xb0"]}),Object(a.jsx)("img",{className:"CityDetails__main__icon",src:"http://openweathermap.org/img/wn/".concat(c,"@2x.png"),alt:"Weather Icon"}),Object(a.jsx)("h4",{className:"CityDetails__main__description",children:s}),Object(a.jsxs)("ul",{className:"CityDetails__main__info",children:[Object(a.jsxs)("li",{className:"CityDetails__main__info-item",children:["Feels like:",o,"\xb0"]}),Object(a.jsxs)("li",{className:"CityDetails__main__info-item",children:["Humidity:",d,"%"]}),Object(a.jsxs)("li",{className:"CityDetails__main__info-item",children:["Wind:",u,"m/s",Object(a.jsx)("img",{src:N,alt:"arrow",width:13,height:13,style:{transform:"rotate(".concat(m,"deg)")}})]}),Object(a.jsxs)("li",{className:"CityDetails__main__info-item",children:["Visibility:",h,"km"]}),Object(a.jsxs)("li",{className:"CityDetails__main__info-item",children:["Presure:",_,"hPa"]}),Object(a.jsxs)("li",{className:"CityDetails__main__info-item",children:["UV index:",j]}),Object(a.jsxs)("li",{className:"CityDetails__main__info-item",children:["Dew point:",b,"\xb0"]}),Object(a.jsxs)("li",{className:"CityDetails__main__info-item",children:["Clouds:",p,"%"]}),Object(a.jsxs)("li",{className:"CityDetails__main__info-item",children:["Sunrise:",y.toLocaleTimeString("en-US")]}),Object(a.jsxs)("li",{className:"CityDetails__main__info-item",children:["Sunset:",f.toLocaleTimeString("en-US")]})]}),Object(a.jsx)("p",{className:"CityDetails__main__date",children:n.toLocaleString("en-GB")})]})}),A=(i(47),function(e){var t=e.city;return Object(a.jsxs)("div",{className:"CityDetails__other",children:[Object(a.jsxs)("div",{className:"CityDetails__other__hourly",children:[Object(a.jsx)("h2",{children:"Hourly:"}),Object(a.jsx)("div",{className:"CityDetails__other__time",children:t.hourly.slice(0,12).map((function(e){return Object(a.jsx)("p",{className:"CityDetails__other__time-item",children:new Date(1e3*e.dt).getHours()},e.dt)}))}),Object(a.jsx)("div",{className:"CityDetails__other__time__icons",children:t.hourly.slice(0,12).map((function(e){return Object(a.jsx)("img",{alt:"/",src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),className:"CityDetails__other__time__icons-item"})}))}),Object(a.jsx)("ul",{className:"CityDetails__other__hourly__table",children:t.hourly.slice(0,12).map((function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("li",{className:"CityDetails__other__hourly__table-item",style:{bottom:"".concat(1.5*e.temp,"px"),color:"".concat(e.temp>=29?"red":(e.temp,"black")),backgroundColor:"".concat(e.temp>0?"hsl(41, 100%, ".concat(90-e.temp,"%)"):e.temp<=0?"hsl(185, 100%, ".concat(70-e.temp,"%)"):"")},children:[Math.round(e.temp),"\xb0"]})})}))})]}),Object(a.jsxs)("div",{className:"CityDetails__other__daily",children:[Object(a.jsx)("h2",{children:"Daily:"}),Object(a.jsx)("div",{className:"CityDetails__other__day",children:t.daily.map((function(e){return Object(a.jsx)("p",{className:"CityDetails__other__day-item",children:new Date(1e3*e.dt).getDate()})}))}),Object(a.jsx)("div",{className:"CityDetails__other__day__icons",children:t.daily.map((function(e){return Object(a.jsx)("img",{alt:"/",src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),className:"CityDetails__other__day__icons-item"})}))}),Object(a.jsx)("ul",{className:"CityDetails__other__daily__table",children:t.daily.map((function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("li",{className:"CityDetails__other__daily__table-item",style:{bottom:"".concat(1.5*e.temp.day,"px")},children:[Object(a.jsxs)("p",{children:[Math.round(e.temp.min),"\xb0"]}),Object(a.jsxs)("p",{children:[Math.round(e.temp.max),"\xb0"]})]})})}))})]})]})}),S=function(e){var t=e.match,i=Object(c.useState)(null),n=Object(x.a)(i,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){y(t.params.city).then((function(e){return(t=e.coord.lat,i=e.coord.lon,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(i,"&exclude=minutely&appid=cef83cd5d4c97545246b047882ffad61&units=metric")).then((function(e){return e.json()}))).then(s);var t,i}))}),[]),r?Object(a.jsxs)("div",{className:"CityDetails",children:[Object(a.jsx)(D,{city:r,cityName:t.params.city}),Object(a.jsx)(A,{city:r})]}):Object(a.jsx)("div",{className:"loaderBox",children:Object(a.jsx)("h1",{children:"Loading..."})})},F=function(e){Object(j.a)(i,e);var t=Object(b.a)(i);function i(){var e;Object(h.a)(this,i);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={city:[],errorInput:!1},e.addNewCityToState=function(){var t=Object(m.a)(d.a.mark((function t(i){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(i);case 2:(a=t.sent)&&200===a.cod?(e.setState((function(e){return{city:[].concat(Object(u.a)(e.city),[a])}})),localStorage.setItem(a.name,a.name)):e.setState({errorInput:!0});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.defaultErrorInput=function(){e.setState({errorInput:!1})},e.deleteCityFromState=function(t){e.setState((function(e){return{city:e.city.filter((function(e){return e.name!==t}))}})),localStorage.removeItem(t)},e}return Object(_.a)(i,[{key:"componentDidMount",value:function(){var e=this;Object.keys(localStorage).forEach((function(t){return e.addNewCityToState(t)}))}},{key:"render",value:function(){var e=this.state,t=e.city,i=e.errorInput;return Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)(O,{}),Object(a.jsxs)(p.c,{children:[Object(a.jsxs)(p.a,{path:"/",exact:!0,children:[Object(a.jsx)(f,{defaultErrorInput:this.defaultErrorInput,errorInput:i,addCity:this.addNewCityToState}),Object(a.jsx)(v,{cityList:t,deleteCity:this.deleteCityFromState})]}),Object(a.jsx)(p.a,{path:"/:city",component:S})]})]})}}]),i}(n.a.Component),k=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,49)).then((function(t){var i=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;i(e),a(e),c(e),n(e),r(e)}))};s.a.render(Object(a.jsx)(l.a,{children:Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(F,{})})}),document.getElementById("root")),k()}},[[48,1,2]]]);
//# sourceMappingURL=main.6cddf844.chunk.js.map